
<html>
<head>
    <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>REPORT</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {% load static %}

  <!-- Bootstrap 3.3.6 -->
    <link rel="stylesheet" href="{% static 'css/report/bootstrap.min.css' %}"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}"/>
  <!-- Ionicons -->
    
  <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'css/report/AdminLTE.min.css' %}"/>
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="{% static 'css/report/_all-skins.min.css' %}"/>
  <!-- DataTables -->
	<link rel="stylesheet" href="{% static 'css/report/dataTables.bootstrap.css' %}"/>
	
<style>


table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
	
    border: 1px solid #dddddd;
    text-align: center;
    padding: 8px;
}

th {
	#background-color: #2988c4;
	background-color: #ffffff;
    color:black;
	text-align: center;
    
}

tr:nth-child(odd) {
    background-color: #f2f2f2;
}



div {
	font-weight: bold;
	font-size:18px
}



button {
	width:90px;
	height:40px;
	background-color: #000000;
	color:white;
}

input[type=text] {
    
	width:190px;
	height:40px;
    padding: 12px 20px;
    margin: 8px 0;
    box-sizing: border-box;
    border: 1px solid black;
    border-radius: 5px;
    font-variant: normal;
    text-align: center;
    font-size: 18px;
	font-weight: bold;
}

</style>


</head>

<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

  <header class="main-header" >
    <!-- Logo -->
    <a href="../../index2.html" class="logo"style = "background-color: #34296F;height:80px" >
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"><img src="{% static 'image/tamillogo.png' %}"  class="img-circle " style = "width:50px;height:50px" /></span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg" ><img src="{% static 'image/tamillogo.png' %}"  class="img-circle " style = "width:100px;height:80px" /></span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
	
    <nav class="navbar navbar-static-top" style = "background-color:#34296F;height:80px">
      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
	   <div class = "col-xs-2">
	   </div>
	  <div class = "col-xs-3">
	  <br>
	  <a style = "color:white ; font-size:22px">TRANSPORT DEPARTMENT</a>
	  </div>
      <!--<div class = "col-xs-2">
	  <br>
	  Location <input type="text" id="address" name="address" value="{{address}}" class="form-control btn round-large" style = "width:150px;font-size:18px" placeholder="Location">
	  </div>-->
	  
	  <div class = "col-xs-3">
	  <br>
	  <!--Officer name <input type = "text" id="Username" name="Username" value="{{Username}}" class="form-control btn round-large" style = "width:150px;font-size:18px"placeholder="Username">-->
	 <body onload="startTime()">
			  <a id="txt" style = "color:white ; font-size:22px"></a>
	  </div>
		
      <div class="navbar-custom-menu" style = "background-color: #34296F">
        <ul class="nav navbar-nav">
		

          <!-- Messages: style can be found in dropdown.less-->
         
          <!-- Notifications: style can be found in dropdown.less -->
          
          <!-- Tasks: style can be found in dropdown.less -->
       
          <!-- User Account: style can be found in dropdown.less -->
		 
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <!--<img src="../../dist/img/user2-160x160.jpg" class="user-image" alt="User Image">-->
			  <br>
              <span class="hidden-xs" style = "font-size:22px">{{Username}}</span>
            </a>
            
          </li>
		  
          <!-- Control Sidebar Toggle Button -->
         <li>
            <a href="/logout/"><i class="fa fa-power-off fa-2x" ></i></a>
          </li>
        </ul>
      </div>
	  
    </nav>
  </header>
  

  <!-- =============================================== -->

  <!-- Left side column. contains the sidebar -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
      <div class="user-panel">
        <div class="pull-left image">
		<br><br>
         <!-- <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">-->
        </div>
        <div class="pull-left info">
          <h3>{{Username}}</h3>
          <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
        </div>
      </div>
      <!-- search form --
      <form action="#" method="get" class="sidebar-form">
        <div class="input-group">
          <input type="text" name="q" class="form-control" placeholder="Search...">
              <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
              </span>
        </div>
      </form>
      <!-- /.search form -->
      <!-- sidebar menu: : style can be found in sidebar.less -->
      <ul class="sidebar-menu">
       
        
          
          <li class=""><a href="/report/"><i class="fa fa-car"></i>
            <span>REPORT</span><span class="pull-right-container"><span class="label label-primary pull-right"></span></span></a></li>
			<li class=""><a href="/search/"><i class="fa fa-road"></i>
            <span>CHART</span><span class="pull-right-container"><span class="label label-primary pull-right"></span></span></a></li>
			<li class=""><a href="/revenue/"><i class="fa fa-road"></i>
            <span>REVENUE REPORT</span><span class="pull-right-container"><span class="label label-primary pull-right"></span></span></a></li>
			
            
			
         
          
      </ul>
    </section>
    <!-- /.sidebar -->
  </aside>

  <!-- =============================================== -->

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        REPORT SEARCH PAGE
        
      </h1>
      
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">
          
	 
          <div class="box">
            
            <!-- /.box-header -->
            <div class="box-body">
			<form method="post" action="/search_reports/">  
			<input type="hidden" name="previous" value="" />
			<input type="hidden" name="next" value="" />
<div class = "col-md-8">

  <strong>FROM DATE </strong> <input type="date" name="value1" value="{{date1}}" style = "width:200px;height:50px;color:black;border: 1px solid black;border-radius: 5px;font-size: 18px;font-weight: bold;" class="form-control btn round-large"/>
  <strong>TO DATE </strong> <input type="date" name="value2" value = "{{date2}}" style = "width:200px;height:50px;color:black;border: 1px solid black;border-radius: 5px;font-size: 18px;font-weight: bold;"class="form-control btn round-large" />
	
</div>	
<div class = "col-md-4">


  <button   class="form-control btn round-large"  style = " color:#ffffff; background-color: #191919;border-color: #e5e5e5; width:90px;height:40px;font-size:18px">Search</button>
  <button id="download-btn" class="form-control btn round-large"  style = " color:#ffffff; background-color: #b23c3c;border-color: #e5e5e5; width:110px;height:40px;font-size:14px">download PDF</button>          
   <br><br>    
  
  </div>
  
  </form>
  <!-- button download pdf-->
   
		<br><br>
		<!-- 2 tables are used one for download pdf and one for display---->

			  
			 
              <table id="example1"  class="table table-bordered table-striped">
                <thead>
				<tr>
				<th>Date </th>
				<th>Vehicle Number</th>
				<th>TransactionID </th>
				<th>User Name</th>
				<th>Lane Number</th>
				<th>Vehicle Status</th>
				<th>Status</th>
				<th>FineAmount</th>
				</thead>
			
				</tr>
			<tbody>


	{% for i in contacts %}
      <tr>
        <td>{{i.date}}</td><td>{{i.Vehicle_Number}}</td><td>{{i.Transaction_Id}}</td><td>{{i.User_Name}}</td><td>{{i.Lane_Number}}</td><td>{{i.Vehicle_Status}}</td><td>{{i.status}}</td><td>{{i.fine}}</td>
      </tr>
    {% endfor %}
	</tbody>
              </table>
			
<div class="pagination">
    <span class="step-links">
	
	
		 <span class="current">
            Page {{ contacts.number }} of {{ contacts.paginator.num_pages }}.
        </span>
		
		
		<form method="post" id = "pre" action="/search_reports/"> 
			<input type="hidden" name="value1" value="{{date1}}"/>
			<input type="hidden" name="value2" value = "{{date2}}"/>
			<input type="hidden" name="next" value="" />
        {% if contacts.has_previous %}
            <!--<a href="?page={{ contacts.previous_page_number }}">previous</a>-->
			<input type="hidden" name="previous" value="{{ contacts.previous_page_number }}" />
			<!--<a href="#" onclick="document.getElementById('pre').submit();"> previous </a>-->
			<button type = "submit">previous</button>
        {% endif %}
		</form>
       

		
		<form method="post" id = "next" action="/search_reports/"> 
			<input type="hidden" name="value1" value="{{date1}}"/>
			<input type="hidden" name="value2" value = "{{date2}}"/>
			<input type="hidden" name="previous" value="" />
        {% if contacts.has_next %}
            <!--<a href="?page={{ contacts.next_page_number }}">next</a>-->
			<input type="hidden" name="next" value="{{ contacts.next_page_number  }}" />
			<!--<a href="#" onclick="document.getElementById('next').submit();"> next </a>-->
			<button type = "submit">next</button>
        {% endif %}
		</form>
		
    </span>
</div>		
            
			</div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->
  </div>

  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 2.3.7
    </div>
    <strong>.</strong> 
    
  </footer>

  <!-- Control Sidebar -->


  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->

<!-- ./wrapper -->

<!-- jQuery 2.2.3 -->

<script>
    window.onhashchange = function () {
        update();
    };

    document.getElementById('download-btn').onclick = function () {
        update(true);
    };

    function update(shouldDownload) {
        var funcStr = window.location.hash.replace(/#/g, '') || 'auto';
        var doc = examples[funcStr]();

        doc.setProperties({
            title: 'Example: ' + funcStr,
            subject: 'A jspdf-autotable example pdf (' + funcStr + ')'
        });

        if (shouldDownload) {
            doc.save('table.pdf');
        } else {
            document.getElementById("output").src = doc.output('datauristring');
        }
    }

    update();
</script>
<script src="{% static 'js/jspdf.debug.js' %}"></script>
<script src="{% static 'js/faker.min.js' %}"></script>
<script src="{% static 'js/jspdf.plugin.autotable.js' %}"></script>
<script src="{% static 'js/examples.js' %}"></script>

<script src="{% static 'js/report/jquery-2.2.3.min.js' %}"></script>
<!-- Bootstrap 3.3.6 -->
<script src="{% static 'js/report/bootstrap.min.js' %}"></script>
<!-- SlimScroll -->
<script src="{% static 'js/report/jquery.slimscroll.min.js' %}"></script>
<!-- FastClick -->
<script src="{% static 'js/report/fastclick.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'js/report/app.min.js'%}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'js/report/demo.js' %}"></script>
<script src="{% static 'js/clock.js' %}"></script>
<!-- DataTables -->


<script src="{% static 'js/report/jquery.dataTables.min.js' %}"></script>
<!-- page script -->


<script>
  $(function () {
    $("#example1").DataTable();
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false
    });
  });
</script>

<!-- tables is placed in seperte div for downloading pdf this wont be display in front end-->
		<div style = "display:none">
			 <table  id="basic-table" class="table table-bordered table-striped">
                <thead>
				<tr>
				<th>Date </th>
				<th>Vehicle Number</th>
				<th>TransactionID </th>
				<th>User Name</th>
				<th>Lane Number</th>
				<th>Vehicle Status</th>
				<th>Status</th>
				<th>FineAmount</th>
				</thead>
			
				</tr>
			<tbody>


	{% for i in report %}
      <tr>
        <td>{{i.date}}</td><td>{{i.Vehicle_Number}}</td><td>{{i.Transaction_Id}}</td><td>{{i.User_Name}}</td><td>{{i.Lane_Number}}</td><td>{{i.Vehicle_Status}}</td><td>{{i.status}}</td><td>{{i.fine}}</td>
      </tr>
    {% endfor %}
	</tbody>
              </table>
			  </div>
			  
			  
</body>
</html>

